<form [formGroup]="form" (ngSubmit)="submit()" class="form" novalidate>
  <div class="row">
    <div class="field">
      <label>Task Title <span>*</span></label>
      <input type="text" formControlName="title" placeholder="Enter task title..." />
      @if (form.controls['title'].touched && form.controls['title'].invalid) {
        <small class="err">
          @if (form.controls['title'].errors?.['required']) { Title is required. }
          @if (form.controls['title'].errors?.['minlength']) { Minimum 3 characters. }
        </small>
      }
    </div>

    <div class="field">
      <label>Due Date <span>*</span></label>
      <input type="date" formControlName="dueDate" [attr.min]="todayStr" />
      @if (form.controls['dueDate'].touched && form.controls['dueDate'].invalid) {
        <small class="err">
          @if (form.controls['dueDate'].errors?.['required']) { Please choose a due date. }
          @if (form.controls['dueDate'].errors?.['pastDate']) { Past dates are not allowed. }
        </small>
      }
    </div>
  </div>

  <div class="field">
    <label>Description</label>
    <textarea rows="3" formControlName="description" placeholder="Add task description..."></textarea>
  </div>

  <div class="row">
    <div class="field">
      <label>Priority</label>
      <select formControlName="priority">
        <option value="low">Low Priority</option>
        <option value="medium">Medium Priority</option>
        <option value="high">High Priority</option>
      </select>
    </div>
  </div>

  <div class="actions">
    <button class="btn primary" type="submit">+ Create Task</button>
    <button class="btn" type="button" title="Coming soon">View All Tasks</button>
  </div>
</form>
